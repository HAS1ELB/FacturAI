{
  "timestamp": "now",
  "total_analyses": 3,
  "models_used": [
    "llava"
  ],
  "performance_summary": {
    "total_processing_time": 0.517038106918335,
    "average_processing_time": 0.17234603563944498,
    "fastest_analysis": 0.15943264961242676,
    "slowest_analysis": 0.18610906600952148
  },
  "zone_detection_summary": {
    "header": 0,
    "footer": 3,
    "tables": 3,
    "addresses": 0,
    "amounts": 0
  },
  "detailed_results": [
    {
      "image_path": "Data\\processed_images\\enhanced_complex_invoice_0001.png",
      "timestamp": 1754392743.891981,
      "processing_time": 0.15943264961242676,
      "model_used": "llava",
      "vlm_analysis": {
        "basic_description": "Erreur d'analyse: Could not make a flat list of images from USER: <image>\nDécris cette image en détail, en te concentrant sur la structure, le contenu et la mise en page.\nASSISTANT:",
        "detailed_analysis": {
          "Quelles sont les informations principales visibles sur cette facture?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
          "Où sont situés les montants et totaux?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
          "Y a-t-il des tableaux ou listes d'articles?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:",
          "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
        },
        "confidence": 0.0,
        "processing_info": {
          "model_name": "llava",
          "device": "cpu",
          "last_confidence": 0.0,
          "processing_time": 0.0,
          "config": {
            "model_name": "llava-hf/llava-1.5-7b-hf",
            "processor_name": "llava-hf/llava-1.5-7b-hf",
            "enabled": true,
            "device": "auto",
            "max_length": 512,
            "confidence_threshold": 0.5
          }
        }
      },
      "detected_zones": {
        "header": {
          "detected": false,
          "confidence": 0.0,
          "content": {
            "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
          },
          "coordinates": null,
          "elements": []
        },
        "footer": {
          "detected": true,
          "confidence": 0.4,
          "content": {
            "Où sont situés les montants et totaux?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
            "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
          },
          "coordinates": null,
          "elements": [],
          "totals": []
        },
        "tables": [
          {
            "detected": true,
            "confidence": 0.8,
            "content": {
              "Y a-t-il des tableaux ou listes d'articles?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:"
            },
            "coordinates": null,
            "columns": [],
            "rows_count": 0
          }
        ],
        "address_blocks": [],
        "amount_zones": [],
        "metadata": {
          "image_size": [
            559,
            1024
          ],
          "detection_confidence": 0.7,
          "zones_count": 2
        }
      },
      "layout_analysis": {
        "document_structure": {
          "type": "unknown",
          "orientation": "portrait",
          "sections": [
            "header",
            "items_table",
            "totals",
            "footer"
          ],
          "complexity": "simple",
          "format": "single_page"
        },
        "spatial_organization": {
          "layout_type": "standard",
          "column_count": 1,
          "regions": {
            "top": {
              "elements": [],
              "density": "low"
            },
            "middle": {
              "elements": [
                "table"
              ],
              "density": "high"
            },
            "bottom": {
              "elements": [
                "footer"
              ],
              "density": "medium"
            }
          },
          "flow_direction": "top_to_bottom",
          "spacing_analysis": {}
        },
        "visual_hierarchy": {
          "primary_elements": [
            {
              "type": "text",
              "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
              "importance": "high"
            },
            {
              "type": "amount",
              "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
              "importance": "high"
            }
          ],
          "secondary_elements": [],
          "emphasis_techniques": [],
          "readability_score": 0.7
        },
        "text_blocks": [
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
            "type": "body_text",
            "estimated_position": "middle",
            "importance": "high"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
            "type": "amount_text",
            "estimated_position": "middle",
            "importance": "high"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:",
            "type": "table_text",
            "estimated_position": "middle",
            "importance": "low"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:",
            "type": "header_text",
            "estimated_position": "top",
            "importance": "low"
          }
        ],
        "alignment_analysis": {
          "main_alignment": "left",
          "consistency": "good",
          "alignment_patterns": [],
          "margin_analysis": {}
        },
        "layout_quality": {
          "overall_score": 0.4800000000000001,
          "clarity": 0.8,
          "organization": 0.4,
          "completeness": 0.0,
          "issues": [],
          "recommendations": [
            "Améliorer la détection des zones",
            "Vérifier les éléments manquants"
          ]
        },
        "metadata": {
          "image_size": [
            559,
            1024
          ],
          "analysis_confidence": 0.48
        }
      },
      "metadata": {
        "image_size": [
          559,
          1024
        ],
        "model_config": {
          "model_name": "llava-hf/llava-1.5-7b-hf",
          "processor_name": "llava-hf/llava-1.5-7b-hf",
          "enabled": true,
          "device": "auto",
          "max_length": 512,
          "confidence_threshold": 0.5
        }
      }
    },
    {
      "image_path": "Data\\processed_images\\enhanced_complex_invoice_0002.png",
      "timestamp": 1754392744.1208727,
      "processing_time": 0.18610906600952148,
      "model_used": "llava",
      "vlm_analysis": {
        "basic_description": "Erreur d'analyse: Could not make a flat list of images from USER: <image>\nDécris cette image en détail, en te concentrant sur la structure, le contenu et la mise en page.\nASSISTANT:",
        "detailed_analysis": {
          "Quelles sont les informations principales visibles sur cette facture?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
          "Où sont situés les montants et totaux?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
          "Y a-t-il des tableaux ou listes d'articles?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:",
          "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
        },
        "confidence": 0.0,
        "processing_info": {
          "model_name": "llava",
          "device": "cpu",
          "last_confidence": 0.0,
          "processing_time": 0.0,
          "config": {
            "model_name": "llava-hf/llava-1.5-7b-hf",
            "processor_name": "llava-hf/llava-1.5-7b-hf",
            "enabled": true,
            "device": "auto",
            "max_length": 512,
            "confidence_threshold": 0.5
          }
        }
      },
      "detected_zones": {
        "header": {
          "detected": false,
          "confidence": 0.0,
          "content": {
            "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
          },
          "coordinates": null,
          "elements": []
        },
        "footer": {
          "detected": true,
          "confidence": 0.4,
          "content": {
            "Où sont situés les montants et totaux?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
            "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
          },
          "coordinates": null,
          "elements": [],
          "totals": []
        },
        "tables": [
          {
            "detected": true,
            "confidence": 0.8,
            "content": {
              "Y a-t-il des tableaux ou listes d'articles?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:"
            },
            "coordinates": null,
            "columns": [],
            "rows_count": 0
          }
        ],
        "address_blocks": [],
        "amount_zones": [],
        "metadata": {
          "image_size": [
            559,
            1024
          ],
          "detection_confidence": 0.7,
          "zones_count": 2
        }
      },
      "layout_analysis": {
        "document_structure": {
          "type": "unknown",
          "orientation": "portrait",
          "sections": [
            "header",
            "items_table",
            "totals",
            "footer"
          ],
          "complexity": "simple",
          "format": "single_page"
        },
        "spatial_organization": {
          "layout_type": "standard",
          "column_count": 1,
          "regions": {
            "top": {
              "elements": [],
              "density": "low"
            },
            "middle": {
              "elements": [
                "table"
              ],
              "density": "high"
            },
            "bottom": {
              "elements": [
                "footer"
              ],
              "density": "medium"
            }
          },
          "flow_direction": "top_to_bottom",
          "spacing_analysis": {}
        },
        "visual_hierarchy": {
          "primary_elements": [
            {
              "type": "text",
              "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
              "importance": "high"
            },
            {
              "type": "amount",
              "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
              "importance": "high"
            }
          ],
          "secondary_elements": [],
          "emphasis_techniques": [],
          "readability_score": 0.7
        },
        "text_blocks": [
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
            "type": "body_text",
            "estimated_position": "middle",
            "importance": "high"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
            "type": "amount_text",
            "estimated_position": "middle",
            "importance": "high"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:",
            "type": "table_text",
            "estimated_position": "middle",
            "importance": "low"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:",
            "type": "header_text",
            "estimated_position": "top",
            "importance": "low"
          }
        ],
        "alignment_analysis": {
          "main_alignment": "left",
          "consistency": "good",
          "alignment_patterns": [],
          "margin_analysis": {}
        },
        "layout_quality": {
          "overall_score": 0.4800000000000001,
          "clarity": 0.8,
          "organization": 0.4,
          "completeness": 0.0,
          "issues": [],
          "recommendations": [
            "Améliorer la détection des zones",
            "Vérifier les éléments manquants"
          ]
        },
        "metadata": {
          "image_size": [
            559,
            1024
          ],
          "analysis_confidence": 0.48
        }
      },
      "metadata": {
        "image_size": [
          559,
          1024
        ],
        "model_config": {
          "model_name": "llava-hf/llava-1.5-7b-hf",
          "processor_name": "llava-hf/llava-1.5-7b-hf",
          "enabled": true,
          "device": "auto",
          "max_length": 512,
          "confidence_threshold": 0.5
        }
      }
    },
    {
      "image_path": "Data\\processed_images\\enhanced_F30.png",
      "timestamp": 1754392744.3458304,
      "processing_time": 0.17149639129638672,
      "model_used": "llava",
      "vlm_analysis": {
        "basic_description": "Erreur d'analyse: Could not make a flat list of images from USER: <image>\nDécris cette image en détail, en te concentrant sur la structure, le contenu et la mise en page.\nASSISTANT:",
        "detailed_analysis": {
          "Quelles sont les informations principales visibles sur cette facture?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
          "Où sont situés les montants et totaux?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
          "Y a-t-il des tableaux ou listes d'articles?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:",
          "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
        },
        "confidence": 0.0,
        "processing_info": {
          "model_name": "llava",
          "device": "cpu",
          "last_confidence": 0.0,
          "processing_time": 0.0,
          "config": {
            "model_name": "llava-hf/llava-1.5-7b-hf",
            "processor_name": "llava-hf/llava-1.5-7b-hf",
            "enabled": true,
            "device": "auto",
            "max_length": 512,
            "confidence_threshold": 0.5
          }
        }
      },
      "detected_zones": {
        "header": {
          "detected": false,
          "confidence": 0.0,
          "content": {
            "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
          },
          "coordinates": null,
          "elements": []
        },
        "footer": {
          "detected": true,
          "confidence": 0.4,
          "content": {
            "Où sont situés les montants et totaux?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
            "Quelles sont les zones d'en-tête et de pied de page?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:"
          },
          "coordinates": null,
          "elements": [],
          "totals": []
        },
        "tables": [
          {
            "detected": true,
            "confidence": 0.8,
            "content": {
              "Y a-t-il des tableaux ou listes d'articles?": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:"
            },
            "coordinates": null,
            "columns": [],
            "rows_count": 0
          }
        ],
        "address_blocks": [],
        "amount_zones": [],
        "metadata": {
          "image_size": [
            767,
            1024
          ],
          "detection_confidence": 0.7,
          "zones_count": 2
        }
      },
      "layout_analysis": {
        "document_structure": {
          "type": "unknown",
          "orientation": "portrait",
          "sections": [
            "header",
            "items_table",
            "totals",
            "footer"
          ],
          "complexity": "simple",
          "format": "single_page"
        },
        "spatial_organization": {
          "layout_type": "standard",
          "column_count": 1,
          "regions": {
            "top": {
              "elements": [],
              "density": "low"
            },
            "middle": {
              "elements": [
                "table"
              ],
              "density": "high"
            },
            "bottom": {
              "elements": [
                "footer"
              ],
              "density": "medium"
            }
          },
          "flow_direction": "top_to_bottom",
          "spacing_analysis": {}
        },
        "visual_hierarchy": {
          "primary_elements": [
            {
              "type": "text",
              "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
              "importance": "high"
            },
            {
              "type": "amount",
              "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
              "importance": "high"
            }
          ],
          "secondary_elements": [],
          "emphasis_techniques": [],
          "readability_score": 0.7
        },
        "text_blocks": [
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les informations principales visibles sur cette facture?\nASSISTANT:",
            "type": "body_text",
            "estimated_position": "middle",
            "importance": "high"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nOù sont situés les montants et totaux?\nASSISTANT:",
            "type": "amount_text",
            "estimated_position": "middle",
            "importance": "high"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nY a-t-il des tableaux ou listes d'articles?\nASSISTANT:",
            "type": "table_text",
            "estimated_position": "middle",
            "importance": "low"
          },
          {
            "content": "Erreur de réponse: Could not make a flat list of images from USER: <image>\nQuelles sont les zones d'en-tête et de pied de page?\nASSISTANT:",
            "type": "header_text",
            "estimated_position": "top",
            "importance": "low"
          }
        ],
        "alignment_analysis": {
          "main_alignment": "left",
          "consistency": "good",
          "alignment_patterns": [],
          "margin_analysis": {}
        },
        "layout_quality": {
          "overall_score": 0.4800000000000001,
          "clarity": 0.8,
          "organization": 0.4,
          "completeness": 0.0,
          "issues": [],
          "recommendations": [
            "Améliorer la détection des zones",
            "Vérifier les éléments manquants"
          ]
        },
        "metadata": {
          "image_size": [
            767,
            1024
          ],
          "analysis_confidence": 0.48
        }
      },
      "metadata": {
        "image_size": [
          767,
          1024
        ],
        "model_config": {
          "model_name": "llava-hf/llava-1.5-7b-hf",
          "processor_name": "llava-hf/llava-1.5-7b-hf",
          "enabled": true,
          "device": "auto",
          "max_length": 512,
          "confidence_threshold": 0.5
        }
      }
    }
  ]
}